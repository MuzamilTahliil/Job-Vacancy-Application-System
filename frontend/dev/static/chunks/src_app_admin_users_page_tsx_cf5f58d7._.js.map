{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/job-vacancy-frontend/job-vacancy-frontend/src/app/admin/users/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Table, Button, Tag, Space, Input, message, Popconfirm, Modal, Form, Select } from \"antd\";\r\nimport { SearchOutlined, EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport type { ColumnsType } from \"antd/es/table\";\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  password: string;\r\n  fullName: string;\r\n  phoneNumber?: string;\r\n  role: \"JOB_SEEKER\" | \"EMPLOYER\" | \"ADMIN\";\r\n  companyName?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\n// Mock data - replace with actual API calls\r\nconst mockUsers: User[] = [\r\n  {\r\n    id: \"1\",\r\n    email: \"john@example.com\",\r\n    password: \"hashed_password\",\r\n    fullName: \"John Doe\",\r\n    phoneNumber: \"+252 63 1234567\",\r\n    role: \"JOB_SEEKER\",\r\n    createdAt: \"2024-01-15T10:00:00Z\",\r\n    updatedAt: \"2024-01-15T10:00:00Z\",\r\n  },\r\n  {\r\n    id: \"2\",\r\n    email: \"jane@example.com\",\r\n    password: \"hashed_password\",\r\n    fullName: \"Jane Smith\",\r\n    phoneNumber: \"+252 63 7654321\",\r\n    role: \"EMPLOYER\",\r\n    companyName: \"Tech Solutions Inc\",\r\n    createdAt: \"2024-01-20T10:00:00Z\",\r\n    updatedAt: \"2024-01-20T10:00:00Z\",\r\n  },\r\n  {\r\n    id: \"3\",\r\n    email: \"admin@example.com\",\r\n    password: \"hashed_password\",\r\n    fullName: \"Admin User\",\r\n    phoneNumber: \"+252 63 9876543\",\r\n    role: \"ADMIN\",\r\n    createdAt: \"2024-02-01T10:00:00Z\",\r\n    updatedAt: \"2024-02-01T10:00:00Z\",\r\n  },\r\n];\r\n\r\nexport default function UsersPage() {\r\n  const [users, setUsers] = useState(mockUsers);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [editingUser, setEditingUser] = useState<User | null>(null);\r\n  const [editForm] = Form.useForm();\r\n\r\n  const handleDelete = (id: string) => {\r\n    setUsers(users.filter((user) => user.id !== id));\r\n    message.success(\"User deleted successfully\");\r\n  };\r\n\r\n  const handleEdit = (id: string) => {\r\n    const user = users.find((u) => u.id === id);\r\n    if (user) {\r\n      setEditingUser(user);\r\n      setIsEditModalOpen(true);\r\n      editForm.setFieldsValue({\r\n        fullName: user.fullName,\r\n        email: user.email,\r\n        phoneNumber: user.phoneNumber,\r\n        role: user.role,\r\n        companyName: user.companyName,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleEditModalCancel = () => {\r\n    setIsEditModalOpen(false);\r\n    setEditingUser(null);\r\n    editForm.resetFields();\r\n  };\r\n\r\n  const handleEditFormSubmit = async (values: any) => {\r\n    if (!editingUser) return;\r\n\r\n    try {\r\n      const updatedUsers = users.map((user) =>\r\n        user.id === editingUser.id\r\n          ? {\r\n              ...user,\r\n              fullName: values.fullName,\r\n              email: values.email,\r\n              phoneNumber: values.phoneNumber || undefined,\r\n              role: values.role,\r\n              companyName: values.companyName || undefined,\r\n              updatedAt: new Date().toISOString(),\r\n            }\r\n          : user\r\n      );\r\n\r\n      setUsers(updatedUsers);\r\n      message.success(\"User updated successfully!\");\r\n      setIsEditModalOpen(false);\r\n      setEditingUser(null);\r\n      editForm.resetFields();\r\n    } catch (error) {\r\n      message.error(\"Failed to update user\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const filteredUsers = users.filter(\r\n    (user) =>\r\n      user.fullName.toLowerCase().includes(searchText.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(searchText.toLowerCase()) ||\r\n      user.companyName?.toLowerCase().includes(searchText.toLowerCase())\r\n  );\r\n\r\n  const columns: ColumnsType<User> = [\r\n    {\r\n      title: \"ID\",\r\n      dataIndex: \"id\",\r\n      key: \"id\",\r\n      width: 80,\r\n    },\r\n    {\r\n      title: \"Full Name\",\r\n      dataIndex: \"fullName\",\r\n      key: \"fullName\",\r\n      sorter: (a, b) => a.fullName.localeCompare(b.fullName),\r\n      width: 150,\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"email\",\r\n      key: \"email\",\r\n      width: 200,\r\n    },\r\n    {\r\n      title: \"Phone Number\",\r\n      dataIndex: \"phoneNumber\",\r\n      key: \"phoneNumber\",\r\n      width: 150,\r\n      render: (phone: string) => phone || <span className=\"text-gray-400\">Not provided</span>,\r\n    },\r\n    {\r\n      title: \"Role\",\r\n      dataIndex: \"role\",\r\n      key: \"role\",\r\n      width: 120,\r\n      render: (role: string) => {\r\n        const color =\r\n          role === \"ADMIN\"\r\n            ? \"red\"\r\n            : role === \"EMPLOYER\"\r\n            ? \"blue\"\r\n            : \"green\";\r\n        return <Tag color={color}>{role.replace('_', ' ')}</Tag>;\r\n      },\r\n    },\r\n    {\r\n      title: \"Company Name\",\r\n      dataIndex: \"companyName\",\r\n      key: \"companyName\",\r\n      width: 150,\r\n      render: (company: string) => company || <span className=\"text-gray-400\">N/A</span>,\r\n    },\r\n    {\r\n      title: \"Created At\",\r\n      dataIndex: \"createdAt\",\r\n      key: \"createdAt\",\r\n      width: 150,\r\n      sorter: (a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime(),\r\n      render: (createdAt: string) => new Date(createdAt).toLocaleDateString(),\r\n    },\r\n    {\r\n      title: \"Updated At\",\r\n      dataIndex: \"updatedAt\",\r\n      key: \"updatedAt\",\r\n      width: 150,\r\n      sorter: (a, b) => new Date(a.updatedAt).getTime() - new Date(b.updatedAt).getTime(),\r\n      render: (updatedAt: string) => new Date(updatedAt).toLocaleDateString(),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"actions\",\r\n      render: (_, record) => (\r\n        <Space size=\"middle\">\r\n          <Button\r\n            type=\"link\"\r\n            icon={<EditOutlined />}\r\n            onClick={() => handleEdit(record.id)}\r\n          >\r\n            Edit\r\n          </Button>\r\n          <Popconfirm\r\n            title=\"Delete user\"\r\n            description=\"Are you sure you want to delete this user?\"\r\n            onConfirm={() => handleDelete(record.id)}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n          >\r\n            <Button type=\"link\" danger icon={<DeleteOutlined />}>\r\n              Delete\r\n            </Button>\r\n          </Popconfirm>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800\">Users Management</h1>\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <Input\r\n          size=\"large\"\r\n          placeholder=\"Search users by name or email...\"\r\n          prefix={<SearchOutlined />}\r\n          value={searchText}\r\n          onChange={(e) => setSearchText(e.target.value)}\r\n          className=\"max-w-md\"\r\n        />\r\n      </div>\r\n\r\n      <Table\r\n        columns={columns}\r\n        dataSource={filteredUsers}\r\n        rowKey=\"id\"\r\n        pagination={{ pageSize: 10 }}\r\n        className=\"bg-white rounded-lg shadow-sm\"\r\n        scroll={{ x: 1200 }}\r\n      />\r\n\r\n      {/* Edit User Modal */}\r\n      <Modal\r\n        open={isEditModalOpen}\r\n        onCancel={handleEditModalCancel}\r\n        footer={null}\r\n        width={600}\r\n        className=\"top-10\"\r\n      >\r\n        {/* Beautiful Header */}\r\n        <div className=\"bg-gradient-to-r from-primary-green to-primary-green-dark text-white -m-6 mb-6 px-6 py-6 rounded-t-lg\">\r\n          <h2 className=\"text-3xl font-bold mb-2\">Edit User</h2>\r\n          <p className=\"text-white/90\">Update user information</p>\r\n        </div>\r\n\r\n        <div className=\"max-h-[70vh] overflow-y-auto pr-2\" style={{ scrollbarWidth: 'thin' }}>\r\n          <Form\r\n            form={editForm}\r\n            layout=\"vertical\"\r\n            onFinish={handleEditFormSubmit}\r\n            className=\"mt-4\"\r\n          >\r\n            <Form.Item\r\n              name=\"fullName\"\r\n              label={<span className=\"text-gray-700 font-semibold\">Full Name</span>}\r\n              rules={[{ required: true, message: \"Please enter full name\" }]}\r\n            >\r\n              <Input size=\"large\" placeholder=\"Enter full name\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"email\"\r\n              label={<span className=\"text-gray-700 font-semibold\">Email</span>}\r\n              rules={[\r\n                { required: true, message: \"Please enter email\" },\r\n                { type: \"email\", message: \"Please enter a valid email\" },\r\n              ]}\r\n            >\r\n              <Input size=\"large\" placeholder=\"Enter email address\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"phoneNumber\"\r\n              label={<span className=\"text-gray-700 font-semibold\">Phone Number (Optional)</span>}\r\n            >\r\n              <Input size=\"large\" placeholder=\"Enter phone number\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"role\"\r\n              label={<span className=\"text-gray-700 font-semibold\">Role</span>}\r\n              rules={[{ required: true, message: \"Please select role\" }]}\r\n            >\r\n              <Select size=\"large\" placeholder=\"Select role\">\r\n                <Select.Option value=\"JOB_SEEKER\">Job Seeker</Select.Option>\r\n                <Select.Option value=\"EMPLOYER\">Employer</Select.Option>\r\n                <Select.Option value=\"ADMIN\">Admin</Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"companyName\"\r\n              label={<span className=\"text-gray-700 font-semibold\">Company Name (Optional)</span>}\r\n            >\r\n              <Input size=\"large\" placeholder=\"Enter company name\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item className=\"mb-0 mt-6\">\r\n              <div className=\"flex justify-end gap-3\">\r\n                <Button onClick={handleEditModalCancel} size=\"large\">\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  size=\"large\"\r\n                  className=\"bg-primary-green hover:bg-primary-green-dark border-primary-green\"\r\n                >\r\n                  Update User\r\n                </Button>\r\n              </div>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}